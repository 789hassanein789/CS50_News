{% load socialaccount %}

<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
    <div class="offcanvas-header">
        <button type="button" class="btn-close close-offcanvas" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <ul class="list-group list-group-flush">
            <a href="{% url 'index' %}" class="nav-link">
                <li class="list-group-item" data-target="Home" id="Home-category">Home</li>
            </a>
            <li class="list-group-item main-section-item" data-section-name="News" id="News-category">
                <div class="drop-down-div">
                    <button class="main-section-button">News</button>
                    <button class="main-section-button">
                        <i class="fa-solid fa-chevron-down"></i>
                    </button>
                </div>
            </li>
            <li class="list-group-item drop-down-item d-none">
                <ul class="list-group list-group-flush">
                    <a href="{% url 'cat_index' cat='News' %}" class="nav-link">
                        <li class="list-group-item" data-target="News" id="News">News</li>
                    </a>
                    <a href="{% url 'cat_index' cat='Israil-Gaza_war'%}" class="nav-link">
                        <li class="list-group-item" data-target="Israil-Gaza_war" id="Israil-Gaza_war">Israel-Gaza war</li>
                    </a>
                    <a href="{% url 'cat_index' cat='Ukraine-Russia_war' %}" class="nav-link">
                        <li class="list-group-item" data-target="Ukraine-Russia_war" id="Ukraine-Russia_war">Ukraine-Russia war</li>
                    </a>
                    <a href="{% url 'cat_index' cat='Iraq' %}" class="nav-link">
                        <li class="list-group-item" data-target="Iraq" id="Iraq">Iraq</li>
                    </a>
                    <a href="{% url 'cat_index' cat='US_&_Canada' %}" class="nav-link">
                        <li class="list-group-item" data-target="US_&_Canada" id="US_&_Canada">US & Canada</li>
                    </a>
                    <a href="{% url 'cat_index' cat='Middle_East' %}" class="nav-link">
                        <li class="list-group-item" data-target="Middle_East" id="Middle_East">Middle East</li>
                    </a>
                    <a href="{% url 'cat_index' cat='Europe' %}" class="nav-link">
                        <li class="list-group-item" data-target="Europe" id="Europe">Europe</li>
                    </a>
                    <a href="{% url 'cat_index' cat='Asia' %}" class="nav-link">
                        <li class="list-group-item" data-target="Asia" id="Asia">Asia</li>
                    </a>
                    <a href="{% url 'cat_index' cat='Africa' %}" class="nav-link">
                        <li class="list-group-item" data-target="Africa" id="Africa">Africa</li>
                    </a>
                    <a href="{% url 'cat_index' cat='Australia' %}" class="nav-link">
                        <li class="list-group-item" data-target="Australia" id="Australia">Australia</li>
                    </a>
                    <a href="{% url 'cat_index' cat='Latine_America' %}" class="nav-link">
                        <li class="list-group-item" data-target="Latine_America" id="Latine_America">Latine America</li>
                    </a>
                </ul>
            </li>
            <li class="list-group-item main-section-item" data-section-name="Sport" id="Sport-category">
                <div class="drop-down-div">
                    <button class="main-section-button">Sport</button>
                    <button class="main-section-button">
                        <i class="fa-solid fa-chevron-down"></i>
                    </button>
                </div>
            </li>
            <li class="list-group-item drop-down-item d-none">
                <ul class="list-group list-group-flush">
                    <a class="nav-link" href="{% url 'cat_index' cat='Sport' %}">
                        <li class="list-group-item" data-target="Sport" id="Sport">Sport</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Martial_Arts' %}">
                        <li class="list-group-item" data-target="Martial_Arts" id="Martial_Arts">Martial arts</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Football' %}">
                        <li class="list-group-item" data-target="Football" id="Football">Football</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Cricket' %}">
                        <li class="list-group-item" data-target="Cricket" id="Cricket">Cricket</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Formula_1' %}">
                        <li class="list-group-item" data-target="Formula_1" id="Formula_1">Formula 1</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Tennis' %}">
                        <li class="list-group-item" data-target="Tennis" id="Tennis">Tennis</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Golf' %}">
                        <li class="list-group-item" data-target="Golf" id="Golf">Golf</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Athletics' %}">
                        <li class="list-group-item" data-target="Athletics" id="Athletics">Athletics</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Cycling' %}">
                        <li class="list-group-item" data-target="Cycling" id="Cycling">Cycling</li>
                    </a>
                </ul>
            </li>
            <a href="{% url 'cat_index' cat='Business' %}" class="nav-link">
                <li class="list-group-item" data-target="Business" id="Business-category">Business</li>
            </a>
            <li class="list-group-item main-section-item" data-section-name="Innovation" id="Innovation-category">
                <div class="drop-down-div">
                    <button class="main-section-button">Innovation</button>
                    <button class="main-section-button">
                        <i class="fa-solid fa-chevron-down"></i>
                    </button>
                </div>
            </li>
            <li class="list-group-item drop-down-item d-none">
                <ul class="list-group list-group-flush">
                    <a class="nav-link" href="{% url 'cat_index' cat='Innovation' %}">
                        <li class="list-group-item" data-target="Innovation" id="Innovation">Innovation</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Technology' %}">
                        <li class="list-group-item" data-target="Technology" id="Technology">Technology</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Science_&_Health' %}">
                        <li class="list-group-item" data-target="Science_&_Health" id="Science_&_Health">Science_&_Health</li>
                    </a>
                </ul>
            </li>
            <li class="list-group-item main-section-item" data-section-name="Culture" id="Culture-category">
                <div class="drop-down-div">
                    <button class="main-section-button">Culture</button>
                    <button class="main-section-button">
                        <i class="fa-solid fa-chevron-down"></i>
                    </button>
                </div>
            </li>
            <li class="list-group-item drop-down-item d-none">
                <ul class="list-group list-group-flush">
                    <a class="nav-link" href="{% url 'cat_index' cat='Culture' %}">
                        <li class="list-group-item" data-target="Culture" id="Culture">Culture</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Books' %}">
                        <li class="list-group-item" data-target="Books" id="Books">Books</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Style' %}">
                        <li class="list-group-item" data-target="Style" id="Style">Style</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Film_&_TV' %}">
                        <li class="list-group-item" data-target="Film_&_TV" id="Film_&_TV">Film & TV</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Music' %}">
                        <li class="list-group-item" data-target="Music" id="Music">Music</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Art_&_Design' %}">
                        <li class="list-group-item" data-target="Art_&_Design" id="Art_&_Design">Art & Design</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Entertainment' %}">
                        <li class="list-group-item" data-target="Entertainment" id="Entertainment">Entertainment</li>
                    </a>
                    
                    
                </ul>
            </li>
            <li class="list-group-item main-section-item" data-section-name="Travel" id="Travel-category">
                <div class="drop-down-div">
                    <button class="main-section-button">Travel</button>
                    <button class="main-section-button">
                        <i class="fa-solid fa-chevron-down"></i>
                    </button>
                </div>
            </li>
            <li class="list-group-item drop-down-item d-none">
                <ul class="list-group list-group-flush">
                    <a class="nav-link" href="{% url 'cat_index' cat='Travel' %}">
                        <li class="list-group-item" data-target="Travel" id="Travel">Travel</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Destinations' %}">
                        <li class="list-group-item" data-target="Destinations" id="Destinations">Destinations</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Food_&_Drink' %}">
                        <li class="list-group-item" data-target="Food_&_Drink" id="Food_&_Drink">Food_&_Drink</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Adventures' %}">
                        <li class="list-group-item" data-target="Adventures" id="Adventures">Adventures</li>
                    </a>
                </ul>
            </li>
            <li class="list-group-item main-section-item" data-section-name="Earth" id="Earth-category">
                <div class="drop-down-div">
                    <button class="main-section-button">Earth</button>
                    <button class="main-section-button">
                        <i class="fa-solid fa-chevron-down"></i>
                    </button>
                </div>
            </li>
            <li class="list-group-item drop-down-item d-none">
                <ul class="list-group list-group-flush">
                    <a class="nav-link" href="{% url 'cat_index' cat='Earth' %}">
                        <li class="list-group-item" data-target="Earth" id="Earth">Earth</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Natural_Wonders' %}">
                        <li class="list-group-item" data-target="Natural_Wonders" id="Natural_Wonders">Natural_Wonders</li>
                    </a>
                    <a class="nav-link" href="{% url 'cat_index' cat='Weather_&_Climate' %}">
                        <li class="list-group-item" data-target="Weather_&_Climate" id="Weather_&_Climate">Weather & Climate</li>
                    </a>
                </ul>
            </li>
        </ul>
        {% if user.is_authenticated %}
            <div class="d-flex" id="account-btns">
                <div class="account-drop-down flex-column">
                    <button class="a-dp-btn" id="a-dp-btn">
                        <i class="fa-solid fa-user fa-lg"></i>
                        Your Account
                    </button>
                    <div class="a-dp-content d-none">
                        {% if request.user.has_usable_password %}
                            <button class="a-dp-btn setting-btn" id="setting-btn">
                                <i class="fa-solid fa-gear fa-lg"></i>
                                Settings
                            </button>
                        {% else %}
                            <form action="{% provider_login_url 'google' process='connect' action='reauthenticate' method='POST' next='/auth?auth=settings' %}" method="post" id="social-reauthenticate-form">
                                {% csrf_token %}
                                <button class="a-dp-btn">
                                    <i class="fa-solid fa-gear fa-lg"></i>
                                    Settings
                                </button>
                            </form>
                        {% endif %}
                        <a class="a-dp-btn setting-btn link" href="{% url 'show-saved' %}?p=1">
                            <i class="fa-regular fa-bookmark fa-lg"></i>
                            Save
                        </a>
                        <form id="logout-form">
                            <button class="a-dp-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-box-arrow-left" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"/>
                                    <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708z"/>
                                </svg>
                                Sign out
                            </button>
                        </form>
                    </div>
                </div>
                {% if user.is_staff %}
                    <div class="mt-3">
                        <a class="a-dp-btn link" href="{% url 'staff' %}">
                            <i class="fa-solid fa-user-tie fa-lg"></i>
                            admin page                    
                        </a>
                    </div>
                {% endif %}
            </div>
        {% else %}
            <div class="account-div">
                <form class="account-form">
                    <button type="button" class="account-btn signin-btn" onclick="show('login'); settings()">log in</button>
                </form>
                <form class="account-form">
                    <button type="button" class="account-btn signup-btn" onclick="show('signup'); settings()">sign up</button>
                </form>
            </div>    
        {% endif %}
    </div>
</div>